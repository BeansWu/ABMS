<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Document</title>
		<link rel="stylesheet" href="../../components/bootstrap/css/bootstrap.min.css">
		<link rel="stylesheet" href="../../components/bootstrap/css/bootstrapValidator.css">
		<link rel="stylesheet" href="../../components/ace/css/ace.css">
		
	</head>
	<body class="container" style="margin-top: 20px">
		<h2 class="text-center">填写预算申请表</h2>
		<br>
		<br>
		<div class="container" id="budget_app">
			<form class="form-horizontal" id="application_form">
				<div class="form-group col-md-6">
					<label for="budget_item_number" class="col-md-4" >预算项目号</label>
					<div class="col-md-8">
						<input v-model="budgetApp.number" type="text" class="form-control" disabled="disabled">
					</div>
				</div>
	            <div class="form-group col-md-6">
					<label for="budget_item_name" class="col-md-4">预算项目名称</label>
					<div class="col-md-8">
					  <input v-model="budgetApp.name" type="text" class="form-control">
					</div>
		    	</div>
				<div class="form-group col-md-6">
					<label for="required_time" class="col-md-4">需求时间</label>
					<div class="col-md-8">
						<input v-model="budgetApp.requiredTime" type="text" class="form-control">
					</div>
				</div>
				<div class="form-group col-md-6">
					<label for="contact_user_number" class="col-md-4">联系人姓名</label>
					<div class="col-md-8">
						<input v-model="budgetApp.user" type="text" class="form-control" readonly>
					</div>
				</div>
				<div class="form-group col-md-6">
					<label for="college_name" class="col-md-4">二级单位名称</label>
					<div class="col-md-8">
						<input  type="text" class="form-control" readonly>
					</div>
				</div>
				<div class="form-group col-md-6">
					<label for="fill_in_date" class="col-md-4">填表日期</label>
					<div class="col-md-8">
						<input v-model="budgetApp.fillDate" type="text" class="form-control" readonly>
					</div>
				</div>
				<div class="form-group col-md-12">
					<label for="reason" class="col-md-2">购置理由</label>
					<div class="col-md-8">
						<textarea v-model="budgetApp.reason" class="form-control" rows="4"></textarea>
					</div>
				</div>
			</form><!-- 上半部分的表单 -->
			<div class="form-group col-md-6">
				<button v-on:click="save" class="btn btn-primary pull-left">保存申请</button>
			</div>
		</div>
	
		<div id="purchase">
			<div class="panel panel-danger">
				<div class="panel-heading">
	        		<div class="panel-title">
	                  	  采购项目
	                    <div class="pull-right">
			            	<button v-on:click="add" class="btn btn-link" data-toggle="modal" data-target="#edit">
			                	<span class="glyphicon glyphicon-plus"></span>
			                </button>
			            </div>
	                </div>  
	        	</div><!-- 采购项目面板头 -->
				<div class="table-responsive">
	                <table class="table table-vertical table-bordered table-condensed data">
	                    <thead>
	                    	<colgroup>
	                    	<col style="width:10%">
	                    	<col style="width:5%">
	                    	<col style="width:8%">
	                    	<col style="width:8%">
	                    	<col>
	                    	<col>
	                    	<col>
	                    	<col>
	                    	<col style="width:15%;">
	                        <tr>
	                        	<th class="text-center">采购品目编码</th>
	                        	<th class="text-center">数量</th>
	                        	<th class="text-center">计量单位</th>
	                        	<th class="text-center">单价</th>
	                        	<th class="text-center">属于政府采购预算编制范围</th>
								<th class="text-center">属于政府采购服务预算编制范围</th>
								<th class="text-center">属于资产购置预算编制范围</th>
								<th class="text-center">专门面向中小企业（含监狱企业）</th>
	                            <th class="text-center">操作</th>
	                        </tr>
	                    </thead>
	                    <tbody  class="text-center">
	                    	<tr v-for="(purchase,index) of purchases">
	                    		<td>{{ purchase.purchaseItem.code }}</td>
	                    		<td>{{ purchase.count }}</td>
	                    		<td>{{ purchase.unit }}</td>
	                    		<td>{{ purchase.price }}</td>
	                    		<td>{{ purchase.isPurchase==true?"是":"否" }}</td>
	                    		<td>{{ purchase.isService==true?"是":"否" }}</td>
	                    		<td>{{ purchase.isAsset==true?"是":"否" }}</td>
	                    		<td>{{ purchase.isFaceMiddle==true?"是":"否" }}</td>
	                    		<td>
	                    			<button v-on:click="editPurchase(index)" class="btn btn-warning btn-sm"  data-toggle="modal" data-target="#edit">
	                    				修改
	                    			</button>
	                    			<button v-on:click="deletePurchase(index)" class="btn btn-danger btn-sm">
	                    				删除
	                    			</button>
	                    		</td>
	                    	</tr>
	                    </tbody>
	                </table>
				</div>
			</div><!-- 采购项目 -->

			<!-- 采购项目明细填写表格 -->

			<div class="col-md-12"></div>
			

			
			<div class="modal fade" role="dialog" id="edit" tabindex="-1">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<h4 class="modal-title  text-danger">采购项目明细</h4>
						</div><!-- modal-header -->
						<div class="modal-body">							
							<div class="row">
								<label class="col-md-3 control-label">
									<font color="red">*</font>采购品目编码:
								</label>
								<div class="col-md-8">
									<input v-model="newPurchase.purchaseItem.code" type="text" class="form-control">
								</div>
							</div><!-- 采购品目编码 -->
							<br>
							<div class="row">
								<label class="col-md-3 control-label">
									<font color="red">*</font>数量:
								</label>
								<div class="col-md-8">
									<input v-model="newPurchase.count" type="text" class="form-control">
								</div>
							</div><!-- 数量 -->
							<br>
							<div class="row">
								<label class="col-md-3 control-label">
									<font color="red">*</font>计量单位:
								</label>
								<div class="col-md-8">
									<input v-model="newPurchase.unit" type="text" class="form-control">
								</div>
							</div><!-- 计量单位 -->
							<br>
							<div class="row">
								<label class="col-md-3 control-label">
									<font color="red">*</font>单价:
								</label>
								<div class="col-md-8">
									<input v-model="newPurchase.price" type="text" class="form-control">
								</div>
							</div><!-- 单价 -->
							<br>
							<div class="row">
								<label class="col-md-6 control-label">
									<font color="red">*</font>是否属于政府采购预算编制范围:
								</label>
								<div class="col-md-6">
									<input v-model="newPurchase.isPurchase" type="checkbox" class="ace ace-switch ace-switch-5" />
									<span class="lbl"></span>
								</div>
							</div><!-- 是否属于政府采购预算编制范围 -->
							<br>
							<div class="row">
								<label class="col-md-6 control-label">
									<font color="red">*</font>是否属于政府购买服务预算编制范围:
								</label>
								<div class="col-md-6">
									<input v-model="newPurchase.isService" type="checkbox" class="ace ace-switch ace-switch-5" />
									<span class="lbl"></span>
								</div>
							</div><!-- 是否属于政府购买服务预算编制范围： -->
							<br>
							<div class="row">
								<label class="col-md-6 control-label">
									<font color="red">*</font>是否属于资产购置预算编制范围:
								</label>
								<div class="col-md-6">
									<input v-model="newPurchase.isAsset" checked="" type="checkbox" class="ace ace-switch ace-switch-5" />
									<span class="lbl"></span>
								</div>
							</div><!-- 是否属于资产购置预算编制范围： -->
							<br>
							<div class="row">
								<label class="col-md-6 control-label">
									<font color="red">*</font>是否专门面向中小企业(含监狱企业):
								</label>
								<div class="col-md-6">
									<input v-model="newPurchase.isFaceMiddle" checked="" type="checkbox" class="ace ace-switch ace-switch-5" />
									<span class="lbl"></span>
								</div>
							</div><!-- 是否专门面向中小企业(含监狱企业): -->
							<br>
							<div class="row">
								<button class="btn btn-default pull-right">
									返回
								</button>
								<div class="pull-right">&nbsp;&nbsp;</div>
								<button v-on:click="modify" type="close" class="btn btn-primary pull-right">
									保存
								</button>
							</div>
							<br>
						</div><!-- modal-body -->
					</div><!-- modal-content -->
				</div><!-- modal-dialog -->
			</div><!-- 采购项目明细表 -->
			<div class="form-group col-md-6">
				<button v-on:click="saveAll" class="btn btn-primary pull-left">保存采购明细</button>
			</div>
		</div>
	</body>
	
	<script type="text/javascript" src="../../components/jquery/jquery-1.11.2.min.js"></script>
	<script type="text/javascript" src="../../components/bootstrap/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="../../components/bootstrap/js/bootstrapValidator.js"></script>   
	
	<script type="text/javascript" src="../../components/vue/vue.js"></script>
	<script type="text/javascript" src="../../js/common/budget_app.js"></script>
</html>